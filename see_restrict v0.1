# Name: see_restrict v0.1 
# Type: Admin/Client side plugin
# Restrict people to certain combinations of sections and categories
# Author: Sven Ellingen
# URL: http://svenellingen.com

# .....................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTI6InNlZV9yZXN0cmljdCI7czo2OiJhdXRob3IiO3M6MTM6
IlN2ZW4gRWxsaW5nZW4iO3M6MTA6ImF1dGhvcl91cmkiO3M6MjM6Imh0dHA6Ly9zdmVuZWxs
aW5nZW4uY29tIjtzOjc6InZlcnNpb24iO3M6MzoiMC4xIjtzOjExOiJkZXNjcmlwdGlvbiI7
czo2NjoiUmVzdHJpY3QgcGVvcGxlIHRvIGNlcnRhaW4gY29tYmluYXRpb25zIG9mIHNlY3Rp
b25zIGFuZCBjYXRlZ29yaWVzIjtzOjQ6ImNvZGUiO3M6MTgyNDoiaWYgKHR4cGludGVyZmFj
ZSA9PSAiYWRtaW4iKSB7DQoJb2Jfc3RhcnQoInNlZV9yZXN0cmljdF9zZWN0aW9uc19qcyIp
Ow0KCXJlZ2lzdGVyX2NhbGxiYWNrKCJzZWVfaGlkZV9zZWN0aW9ucyIsICJhcnRpY2xlIik7
DQp9DQoNCmZ1bmN0aW9uIHNlZV9oaWRlX3NlY3Rpb25zKCkgew0KCWdsb2JhbCAkdHhwX3Vz
ZXI7DQogICAgJHVzZXJzID0gYXJyYXkoDQogICAgICAgIC8vIGFzc2lnbiB1c2VycyB0byBz
ZWN0aW9ucyBsaWtlIGluIHRoZSBleGFtcGxlIGJlbG93DQoJCS8vICd1c2VyMScgPT4gJ3Nl
Y3Rpb25BJywNCgkJLy8gJ3VzZXIyJyA9PiAnc2VjdGlvbkInDQoJKTsNCg0KICAgICAgICAv
LyBpZiBhIHVzZXIgaXMgYXNzaWduZWQgdG8gc2VjdGlvbkEgd2Ugd2FudCB0byByZXN0cmlj
dCBoaW0gdG8gb25seSBwb3N0IGluIHRoYXQgc2VjdGlvbiBhbmQgYWxzbyByZXN0cmljdCBo
aW0gdG8gY2VydGFpbiBjYXRlZ29yaWVzDQoJCWlmKCR1c2Vyc1skdHhwX3VzZXJdID09ICdz
ZWN0aW9uQScpIHsNCgkJCWVjaG8NCgkJCQknPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3Jp
cHQiPg0KCQkJCTwhLS0vLy0tPjwhW0NEQVRBWy8vPjwhLS0NCgkJCQkvLyBoaWRlIGFsbCBz
ZWN0aW9ucyBhbmQgY2F0ZWdvcmllcyAoZXhjZXB0IGZvciB0aGUgb25lIGRlZmluZWQgYmVs
b3cpIGZyb20gdGhpcyB1c2VyDQoJCQkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7
DQoJCQkJCSQoIiNzZWN0aW9uIikucmVtb3ZlT3B0aW9uKC8uLyk7DQoJCQkJCXZhciBteU9w
dGlvbnMgPSB7Im11c2ljIiA6ICJtdXNpYyJ9DQoJCQkJCSQoIiNzZWN0aW9uIikuYWRkT3B0
aW9uKG15T3B0aW9ucywgdHJ1ZSk7DQoJCQkJCSQoIiNjYXRlZ29yeS0xIikucmVtb3ZlT3B0
aW9uKC8uLyk7DQoJCQkJCXZhciBhbGxvd2VkQ2F0MSA9IHsNCgkJCQkJCQkJCQkiYmxvZyIg
OiAiQmxvZyINCgkJCQkJCQkJCX0NCgkJCQkJJCgiI2NhdGVnb3J5LTEiKS5hZGRPcHRpb24o
YWxsb3dlZENhdDEsIHRydWUpOw0KCQkJCQkkKCIjY2F0ZWdvcnktMiIpLnJlbW92ZU9wdGlv
bigvLi8pOw0KCQkJCX0pOw0KCQkJCS8vLS0+PCFdXT4NCgkJCSAgICA8L3NjcmlwdD4nOw0K
CQl9DQoNCiAgICAgICAgLy8gaWYgYSB1c2VyIGlzIGFzc2lnbmVkIHRvIHNlY3Rpb25CIHdl
IHdhbnQgc29tZXRoaW5nIGVsc2UgdG8gaGFwcGVuLi4uDQoJCWlmKCR1c2Vyc1skdHhwX3Vz
ZXJdID09ICdza2F0ZScpIHsNCgkJCWVjaG8NCgkJCQknPHNjcmlwdCB0eXBlPSJ0ZXh0L2ph
dmFzY3JpcHQiPg0KCQkJCTwhLS0vLy0tPjwhW0NEQVRBWy8vPjwhLS0NCgkJCQkvLyBoaWRl
IGFsbCBzZWN0aW9ucyAoZXhjZXB0IGZvciB0aGUgb25lIGRlZmluZWQgYmVsb3cpIGZyb20g
dGhpcyB1c2VyDQoJCQkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7DQoJCQkJCSQo
IiNzZWN0aW9uIikucmVtb3ZlT3B0aW9uKC8uLyk7DQoJCQkJCXZhciBteU9wdGlvbnMgPSB7
InNlY3Rpb25CIiA6ICJzZWN0aW9uQiJ9DQoJCQkJCSQoIiNzZWN0aW9uIikuYWRkT3B0aW9u
KG15T3B0aW9ucywgdHJ1ZSk7DQoJCQkJfSk7DQoJCQkJLy8tLT48IV1dPg0KCQkJICAgIDwv
c2NyaXB0Pic7DQoJCX0NCn0NCg0KZnVuY3Rpb24gc2VlX3Jlc3RyaWN0X3NlY3Rpb25zX2pz
KCRidWZmZXIpDQp7DQoJJGZpbmQgPSAnPC9oZWFkPic7DQoJJHJlcGxhY2UgPSBuLnQuJzxz
Y3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9qcXVlcnkuc2VsZWN0Ym94
ZXMuanMiPjwvc2NyaXB0Picubi4kZmluZDsNCglyZXR1cm4gc3RyX3JlcGxhY2UoJGZpbmQs
ICRyZXBsYWNlLCAkYnVmZmVyKTsNCn0NCg0KIjtzOjQ6InR5cGUiO3M6MToiMSI7czo0OiJo
ZWxwIjtzOjQxNzoiRElTQ0xBSU1FUjogSSd2ZSBoYWNrZWQgdGhpcyB0b2dldGhlciByZWFs
IHF1aWNrIGFuZCBpdCBzdWl0cyBteSBuZWVkcyBqdXN0IGZpbmUuIEl0IGNlcnRhaW5seSBp
c24ndCB2ZXJ5IHNhZmUgYXMgaXQgc29sZWx5IHJlbGllcyBvbiBoaWRpbmcgdGhlIHZhcmlv
dXMgb3B0aW9ucyBpbiB0aGUgc2VjdGlvbiBhbmQgY2F0ZWdvcnkgc2VsZWN0IGZyb20gdGhl
IHVzZXIgdmlhIEpTLiBBbHNvLCBpdCBuZWVkcyBhIGxvdCBvZiBlZGl0aW5nIGluIHRoZSBw
bHVnaW4ncyBjb2RlIGFzIHRoZXJlIGlzIG5vIGludGVyZmFjZS4gTGFzdCBidXQgbm90IGxl
YXN0LCBqcXVlcnkuc2VsZWN0Ym94ZXMgcGx1Z2luIGlzIHJlcXVpcmVkOiBodHRwOi8vanF1
ZXJ5anMuZ29vZ2xlY29kZS5jb20vc3ZuL3RydW5rL3BsdWdpbnMvc2VsZWN0Ym94ZXMvIjtz
OjM6Im1kNSI7czozMjoiNzMwODEyMDcwZmU0ZDZkNDIyMDYxYzZlMGFkNGYwZGEiO30=
